<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>Herramientas PDF - TecXart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
    <header class="topbar">
        <div class="menu">
            <div class="logo-area">
                <img src="https://www.tecxart.es/wp-content/uploads/2025/04/logo5sinfondo.png" alt="TecXart"
                    class="logo" />
                <span class="site-title">Herramientas PDF</span>
            </div>
            <div class="main-nav">
                <a href="https://www.tecxart.es/" class="nav-btn">Ir a TecXart</a>
                <a href="https://tecxart.es/ipnombre/" class="nav-btn">URL a IP</a>
                <a href="https://www.tecxart.es/fiturl" class="nav-btn">FIT URL</a>
                <a href="https://tecxart.es/server/public/" class="nav-btn">Geolocaliza IP</a>
                <a href="https://www.tecxart.es/dominios/" class="nav-btn">Comprobar Dominio</a>
            </div>
        </div>
    </header>

    <div class="menu-pdf">
        <nav class="main-nav">
            <button class="nav-btn active" data-tool="split">Dividir</button>
            <button class="nav-btn" data-tool="merge">Combinar</button>
            <button class="nav-btn" data-tool="compress">Comprimir</button>
            <button class="nav-btn" data-tool="convert">Convertir</button>
        </nav>
    </div>
    <main class="container">
        <section class="upload-panel">
            <h2>Sube tu PDF</h2>
            <div class="upload-buttons">
                <label class="btn primary">
                    Archivo local
                    <input type="file" id="fileInput" accept="application/pdf" hidden />
                </label>
                <button class="btn" id="btnUrl">Desde URL</button>
                <button class="btn" id="btnDrive">Google Drive</button>
            </div>
            <div class="upload-extra" id="urlInputWrapper">
                <input type="url" id="urlInput" placeholder="Pega aquí la URL del PDF" />
                <button class="btn small" id="btnLoadUrl">Cargar URL</button>
            </div>
            <p class="file-info" id="fileInfo">Ningún archivo seleccionado.</p>
        </section>

        <section class="tool-panel">
            <!-- Dividir -->
            <div class="tool-section" id="tool-split">
                <h2>Dividir PDF</h2>
                <p>Elige el rango de páginas que quieres extraer (por ejemplo: 1-3,5,7-9).</p>
                <input type="text" id="splitRanges" placeholder="Rangos de páginas" />
                <button class="btn primary" id="btnSplit">Dividir PDF</button>
            </div>

            <!-- Combinar -->
            <div class="tool-section hidden" id="tool-merge">
                <h2>Combinar PDFs</h2>
                <p>Sube uno o más PDFs para unirlos en un solo documento.</p>
                <label class="btn" id="btnAddMergeFiles">
                    Añadir PDFs
                    <input type="file" id="mergeFilesInput" accept="application/pdf" multiple hidden />
                </label>
                <ul class="file-list" id="mergeFileList"></ul>
                <button class="btn primary" id="btnMerge">Combinar PDFs</button>
            </div>

            <!-- Comprimir -->
            <div class="tool-section hidden" id="tool-compress">
                <h2>Comprimir PDF</h2>
                <p>Reduce el tamaño del archivo PDF manteniendo la calidad lo mejor posible.</p>
                <label for="compressLevel">Nivel de compresión:</label>
                <select id="compressLevel">
                    <option value="low">Baja (mejor calidad)</option>
                    <option value="medium" selected>Media</option>
                    <option value="high">Alta (tamaño mínimo)</option>
                </select>
                <button class="btn primary" id="btnCompress">Comprimir PDF</button>
            </div>

            <!-- Convertir -->
            <div class="tool-section hidden" id="tool-convert">
                <h2>Convertir PDF</h2>
                <p>Convierte tu PDF a otros formatos.</p>
                <label for="convertFormat">Formato de salida:</label>
                <select id="convertFormat">
                    <option value="docx">Word (.docx)</option>
                    <option value="xlsx">Excel (.xlsx)</option>
                    <option value="jpg">Imagen JPG</option>
                    <option value="png">Imagen PNG</option>
                    <option value="html">HTML</option>
                </select>
                <button class="btn primary" id="btnConvert">Convertir PDF</button>
            </div>

            <!-- Proteger -->
            <div class="tool-section hidden" id="tool-protect">
                <h2>Proteger / Desproteger PDF</h2>
                <div class="protect-options">
                    <label>
                        <input type="radio" name="protectMode" value="add" checked />
                        Añadir contraseña
                    </label>
                    <label>
                        <input type="radio" name="protectMode" value="remove" />
                        Quitar contraseña
                    </label>
                </div>
                <div id="addPasswordFields">
                    <input type="password" id="passwordNew" placeholder="Nueva contraseña" />
                    <input type="password" id="passwordConfirm" placeholder="Repetir contraseña" />
                </div>
                <div id="removePasswordFields" class="hidden">
                    <input type="password" id="passwordCurrent" placeholder="Contraseña actual del PDF" />
                </div>
                <button class="btn primary" id="btnProtect">Aplicar</button>
            </div>
        </section>

        <section class="preview-panel">
            <h2>Vista previa</h2>
            <canvas id="pdfCanvas"></canvas>
            <div class="preview-controls">
                <button class="btn small" id="btnPrevPage">Anterior</button>
                <span id="pageInfo">Página 0 / 0</span>
                <button class="btn small" id="btnNextPage">Siguiente</button>
            </div>
        </section>

        <section class="result-panel">
            <h2>Resultado</h2>
            <p id="resultMessage">Todavía no hay resultado.</p>
            <a id="downloadLink" href="#" class="btn primary hidden" download>Descargar archivo</a>
        </section>
    </main>

    <footer class="footer">
        <p>Powered by TcX &copy; 2025</p>
    </footer>

    <script src="js/pdf-tools.js"></script>
    <script src="js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- Google APIs (carga dinámica) -->
    <script async defer src="https://apis.google.com/js/api.js"></script>
    <script async defer src="https://accounts.google.com/gsi/client"></script>


</body>

</html>
